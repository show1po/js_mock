!function(){"use strict";angular.module("d3.cloud",["d3.cloud.tpls"])}(),function(){"use strict";function t(t){t.$watch("words",function(e,n){var o=[],r=[],l=t.ignoreList,c=0;if(e){for(o=0;o<e.length;o++)l.indexOf(e[o].name)<1&&r.push(e[o]);if(t.cloud){if(n)if(n.length!==e.length)c=1;else for(o=0;o<e.length;o++)!c&e[o].name!==n[o].name&e[o].score!==n[o].score&&(c=1);else c=1;c&&t.updateCloud(r)}else t.createCloud(r)}else t.cloud&&t.updateCloud([])})}angular.module("d3.cloud").controller("d3CloudController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(){return{restrict:"E",replace:"true",scope:{events:"=?",font:"@",ignoreList:"=?",padding:"@",rotate:"&?",slopeBase:"@",slopeFactor:"@",words:"="},templateUrl:function(){return"/d3-cloud-ng/d3-cloud.html"},controller:"d3CloudController",controllerAs:"ctrl",link:function(t,e,n){function o(n){var o=t.cloud.size(),r=d3.schemeCategory20?d3.schemeCategory20:d3.scale.category20(),l=d3.select(e[0]).select("svg").selectAll("g").attr("transform","translate("+o[0]/2+","+o[1]/2+")").selectAll("text").data(n);l.enter().append("text"),l.style("font-size",function(t){return t.size+"px"}).style("font-family",t.font).style("fill",function(t,e){return r(e)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).on(t.events).text(function(t){return t.text}),l.exit().remove()}function r(n){var o=t.cloud.size(),r=d3.schemeCategory20?d3.schemeCategory20:d3.scale.category20();d3.select(e[0]).append("svg").attr("width",o[0]).attr("height",o[1]).append("g").attr("transform","translate("+o[0]/2+","+o[1]/2+")").selectAll("text").data(n).enter().append("text").style("font-size",function(t){return t.size+"px"}).style("font-family",t.font).style("fill",function(t,e){return r(e)}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).on(t.events).text(function(t){return t.text})}t.events=t.events||{},t.font=t.font||"Impact",t.ignoreList=t.ignoreList||[];var l=n.padding?Number(t.padding):5,c=t.rotate&&function(e,n){return t.rotate({word:t.words[n]})}||function(){return 90*~~(2*Math.random())-45},d=n.slopeBase?Number(t.slopeBase):2,a=n.slopeFactor?Number(t.slopeFactor):30;t.createCloud=function(n){var o=e[0].clientWidth+0,s=e[0].clientWidth+0,u=0,i=1,f=1;n.map(function(t){u>t.score&&(u=t.score),i<t.score&&(i=t.score)}),i!==u&&(f=a/(i-u)),t.cloud=d3.layout.cloud().size([o,s]),t.cloud.words(n.map(function(t){return{text:t.name,size:t.score*f+d}})).padding(l).rotate(c).font(t.font).fontSize(function(t){return t.size}).on("end",r).start()},t.updateCloud=function(n){var r=e[0].clientWidth+0,s=e[0].clientWidth+0,u=0,i=1,f=1;n.map(function(t){u>t.score&&(u=t.score),i<t.score&&(i=t.score)}),i!==u&&(f=a/(i-u)),t.cloud=d3.layout.cloud().size([r,s]),t.cloud.words(n.map(function(t){return{text:t.name,size:t.score*f+d}})).padding(l).rotate(c).font(t.font).fontSize(function(t){return t.size}).on("end",o).start()},!t.cloud&&t.words&&t.words.length&&t.createCloud(t.words)}}}angular.module("d3.cloud").directive("d3Cloud",t),t.$inject=[]}(),function(t){try{t=angular.module("d3.cloud.tpls")}catch(e){t=angular.module("d3.cloud.tpls",[])}t.run(["$templateCache",function(t){t.put("/d3-cloud-ng/d3-cloud.html",'<div class="d3-cloud">\n  <div class="cloud"> \n\n  <div ng-if="words.length === 0">\n    No results to display.\n  </div>\n</div>\n')}])}();