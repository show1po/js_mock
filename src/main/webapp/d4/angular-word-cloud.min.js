!function(){"use strict";function t(){function t(t,n){function e(){return 60*~~(2*Math.random())}function r(t){var e=d3.select(n[0]),r=d.size()[0],o=d.size()[1];e.select("svg").remove(),e.append("svg").attr("width",r).attr("height",o).append("g").attr("transform","translate("+r/2+","+o/2+")").selectAll("text").data(t).enter().append("text").on("click",function(t){s.onClick&&s.onClick(t)}).on("mouseover",function(){d3.select(this).transition().style("font-size",function(t){return 1.2*t.size+"px"}).attr("opacity",.5)}).on("mouseout",function(){d3.select(this).transition().style("font-size",function(t){return t.size+"px"}).attr("opacity",1)}).style("font-size",function(t){return t.size+"px"}).style("font-family","Impact").style("fill",function(t,n){return t.color||c(n)}).attr("text-anchor","middle").attr("cursor","pointer").transition().attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.text})}function o(t,n,r,o,i){o=o||5,i=i||e,d.size([t,n]).rotate(i).padding(o).words(r),d.start()}function i(){return s}function a(t){var n=angular.copy(t);angular.isUndefined(n.words)||angular.isUndefined(n.width)||angular.isUndefined(n.height)||o(n.width,n.height,n.words,n.padding,n.rotate)}var s=this,c=d3.hasOwnProperty("scale")?d3.scale.category20():d3.scaleOrdinal(d3.schemeCategory20),d=d3.layout.cloud().fontSize(function(t){return t.size}).on("end",r);t.$watch(i,a,!0)}return{restrict:"E",scope:{height:"=",padding:"=?",rotate:"=?",words:"=",width:"=",onClick:"="},template:"<div></div>",controller:["$scope","$element",t],controllerAs:"wordsCloudCtrl",bindToController:!0}}angular.module("angular-d3-word-cloud",[]).directive("wordCloud",[t])}();